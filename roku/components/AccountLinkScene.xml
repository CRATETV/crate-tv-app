<?xml version="1.0" encoding="utf-8" ?>
<component name="AccountLinkScene" extends="Group">
    <script type="text/brightscript" uri="pkg:/components/AccountLinkScene.brs" />
    <interface>
        <field id="loginSuccess" type="boolean" value="false" />
    </interface>
    <children>
        <Rectangle width="1920" height="1080" color="#141414" />
        
        <!-- ========================== -->
        <!-- VIEW 1: LINK CODE -->
        <!-- ========================== -->
        <Group id="linkCodeGroup" visible="true">
            
            <!-- 1. Instructions -->
            <Label text="Link Your Device" font="font:LargeBoldSystemFont" color="#FFFFFF" translation="[0, 150]" width="1920" horizAlign="center" />
            <Label text="Go to: cratetv.net/activate" font="font:MediumBoldSystemFont" color="#F4D03F" translation="[0, 220]" width="1920" horizAlign="center" />
            
            <!-- 2. THE BOX -->
            <!-- X=660, Width=600 -->
            <Rectangle width="600" height="250" translation="[660, 320]" color="#333333" />
            
            <!-- 3. THE CODE -->
            <!-- X=660, Width=600 (Matches Box) -->
            <Label id="codeLabel" 
                   text="LOADING..." 
                   translation="[660, 320]" 
                   width="600" 
                   height="250" 
                   horizAlign="center" 
                   vertAlign="center" 
                   font="font:LargeBoldSystemFont" 
                   color="#FFFFFF" />

            <!-- 4. THE BUTTON (Fixing Alignment) -->
            <!-- Changed X to 660 (Matches Box) -->
            <!-- Changed minWidth to 600 (Matches Box) -->
            <Button id="btnGoToEmail" text="Log in with Email &amp; Password" translation="[660, 620]" minWidth="600" showFocusFootprint="true" />
        </Group>

        <!-- ========================== -->
        <!-- VIEW 2: ENTER EMAIL -->
        <!-- ========================== -->
        <Group id="emailGroup" visible="false" translation="[200, 100]">
            <Label text="Step 1: Enter Email Address" font="font:LargeBoldSystemFont" color="#FFFFFF" translation="[0, -50]" />
            <Keyboard id="emailKeyboard" />
            <Button id="btnNextToPass" text="Next" translation="[0, 650]" minWidth="300" showFocusFootprint="true" />
            <Button id="btnBackToLink" text="Cancel" translation="[350, 650]" minWidth="300" showFocusFootprint="true" />
        </Group>

        <!-- ========================== -->
        <!-- VIEW 3: ENTER PASSWORD -->
        <!-- ========================== -->
        <Group id="passwordGroup" visible="false" translation="[200, 100]">
            <Label text="Step 2: Enter Password" font="font:LargeBoldSystemFont" color="#FFFFFF" translation="[0, -50]" />
            <Label id="userEmailDisplay" text="" color="#AAAAAA" translation="[500, -50]" />
            <Keyboard id="passKeyboard" /> <!-- Secure mode set in BRS -->
            <Button id="btnLogin" text="Sign In" translation="[0, 650]" minWidth="300" showFocusFootprint="true" />
            <Button id="btnBackToEmail" text="Back" translation="[350, 650]" minWidth="300" showFocusFootprint="true" />
        </Group>

        <Timer id="pollTimer" repeat="true" duration="5" />
    </children>
</component>
