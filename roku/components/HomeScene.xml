<?xml version="1.0" encoding="utf-8" ?>
<component name="HomeScene" extends="Scene">

    <script type="text/brightscript" uri="pkg:/components/HomeScene.brs" />
    <script type="text/brightscript" uri="pkg:/source/utils.brs" />

    <children>
        <!-- Font definitions -->
        <Label id="fontLoader" text="">
            <font role="font.small" uri="pkg:/fonts/Roboto-Regular.ttf" size="24" />
            <font role="font.medium" uri="pkg:/fonts/Roboto-Regular.ttf" size="32" />
            <font role="font.large.bold" uri="pkg:/fonts/Roboto-Bold.ttf" size="48" />
        </Label>
        
        <!-- Loading indicator -->
        <Label 
            id="loadingLabel"
            text="Loading Crate TV..."
            translation="[960, 540]"
            horizAlign="center"
            vertAlign="center"
            color="0xFFFFFFFF"
        >
            <font role="font.medium" />
        </Label>
        
        <!-- Main content group, initially hidden -->
        <Group id="contentGroup" visible="false">
            <!-- Hero Section -->
            <Group id="heroGroup" translation="[0, 0]">
                <Poster id="heroPoster" width="1920" height="720" />
                <Rectangle id="heroGradient" color="0x000000AA" width="1000" height="720" />
                <Label 
                    id="heroTitle"
                    width="880"
                    wrap="true"
                    translation="[80, 250]"
                >
                    <font role="font.large.bold" />
                </Label>
                <Label
                    id="heroSynopsis"
                    width="880"
                    wrap="true"
                    maxLines="3"
                    translation="[80, 320]"
                >
                     <font role="font.small" />
                </Label>
            </Group>

            <!-- Movie Carousels -->
            <RowList 
                id="contentRowList"
                translation="[80, 750]"
                itemComponentName="MoviePoster"
                itemSize="[240, 410]"
                rowItemSpacing="[ [30, 0] ]"
                numRows="1"
                rowHeights="[410]"
                rowLabelOffset="[ [0, -50] ]"
                rowFocusAnimationStyle="floatingFocus"
            />
        </Group>

        <!-- Task node for fetching data -->
        <Task id="contentTask" uri="pkg:/components/ContentTask.xml" />
    </children>

</component>